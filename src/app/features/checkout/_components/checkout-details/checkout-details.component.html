<div class="checkout-container">
  <!-- LEFT: Stepper Accordion -->
  <div class="checkout-left">
    <!-- Step 0: Delivery Address -->
    <div class="accordion-step" [class.active]="currentStep === 0">
      <div class="accordion-header" (click)="setStep(0)">
        <span class="step-number">1</span>
        <span class="step-title">Delivery Address</span>
      </div>
      <div class="accordion-content" *ngIf="currentStep === 0">
        <app-shipping-billing
          (continue)="goToNextStep()"
          (addNewAddressClicked)="goToAddAddressStep($event)">
        </app-shipping-billing>
      </div>
    </div>

    <!-- Step 1: Add New Address -->
    <div class="accordion-step" [class.active]="currentStep === 1">
      <div class="accordion-header" (click)="setStep(1)">
        <span class="step-number">2</span>
        <span class="step-title">Add New Address</span>
      </div>
      <div class="accordion-content" *ngIf="currentStep === 1">
        <app-address-form [formMode]="formMode">
        </app-address-form>
      </div>
    </div>

    <!-- Step 2: Order Summary -->
    <div class="accordion-step" [class.active]="currentStep === 2">
      <div class="accordion-header" (click)="setStep(2)">
        <span class="step-number">3</span>
        <span class="step-title">Order Summary</span>
      </div>
      <div class="accordion-content" *ngIf="currentStep === 2">
        <app-cart-details
          [showPriceSummaryBlock]="false"
          (continue)="goToNextStep()"
          (back)="goToPreviousStep()">
        </app-cart-details>
      </div>
    </div>

    <!-- Step 3: Payment -->
    <div class="accordion-step" [class.active]="currentStep === 3">
      <div class="accordion-header" (click)="setStep(3)">
        <span class="step-number">4</span>
        <span class="step-title">Payment</span>
      </div>
      <div class="accordion-content" *ngIf="currentStep === 3">
        <!-- <app-payment (back)="goToPreviousStep()"></app-payment> -->
      </div>
    </div>
  </div>

  <!-- RIGHT: Price Summary -->
  <div class="checkout-right">
    <app-price-summary [showPlaceOrderButton]="false"></app-price-summary>
  </div>
</div>
