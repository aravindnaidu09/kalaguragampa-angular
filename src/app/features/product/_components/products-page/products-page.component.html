<div class="product-page-container">

  <!-- ✅ Left Sidebar (Product Filters) -->
  <aside class="filter-section">
    <app-product-filters (filtersChanged)="updateFilters($event)" [selectedCat]="selectedCategoryId" ></app-product-filters>
  </aside>

  <!-- ✅ Right Section (Sort Filter + Product List) -->
  <section class="product-section">

    <!-- ✅ Sort & Filter Bar -->
    <app-sort-filter-bar [totalProducts]="totalProducts" (filterChanged)="applyFilters($event)"
      (clearFilters)="resetFilters()">
    </app-sort-filter-bar>

    <!-- ✅ Loading Skeleton (Shimmer Effect) -->
    <div *ngIf="isLoading()" class="skeleton-container">
      <div class="skeleton" *ngFor="let i of [1,2,3,4,5,6]"></div>
    </div>


    <!-- ✅ Product List -->
    <app-detailed-product-list *ngIf="!isLoading()" [products]="products"></app-detailed-product-list>


    <div class="pagination-controls">
      <button (click)="changePage(currentPage() - 1)" [disabled]="currentPage() === 1">« Prev</button>
      <span>Page {{ currentPage() }} of {{ totalPages() }}</span>
      <button (click)="changePage(currentPage() + 1)" [disabled]="currentPage() >= totalPages()">Next »</button>
    </div>
  </section>
</div>
