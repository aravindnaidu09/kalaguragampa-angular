<section class="product-list-container">

  <!-- Shop by Category Section -->
  <div class="shop-by-category">
    <div class="header">
      <h3>Shop by Category</h3>
    </div>

    <div class="categories">
      <!-- ✅ Display First 10 Categories -->
      <div *ngFor="let category of categories().slice(0, 10); let i = index" class="category-item"
        [ngClass]="{ selected: selectedCategory() === i }" (click)="selectCategory(i, category.id)">
        <span>{{ category.name }}</span>
      </div>

      <!-- ✅ View All Button -->
      <div class="category-item view-all" (click)="navigateToProductPage()">
        <span>View All</span>
      </div>
    </div>


    <div class="product-container">
      <!-- Skeleton Loader -->
      @if (isLoading()) {
      @for (_ of [1, 2, 3, 4, 5]; track _) {
      <div class="product-card skeleton">
        <div class="wishlist-icon">
          <div class="skeleton-box" style="width: 20px; height: 20px; border-radius: 50%;"></div>
        </div>
        <div class="product-image">
          <div class="skeleton-box" style="width: 100%; height: 150px;"></div>
        </div>
        <div class="product-details">
          <div class="product-header">
            <div class="skeleton-box" style="width: 60%; height: 20px;"></div>
            <div class="skeleton-box" style="width: 30%; height: 20px;"></div>
          </div>
          <div class="skeleton-box" style="width: 100%; height: 40px;"></div>
          <div class="product-rating">
            <div class="skeleton-box" style="width: 80px; height: 15px;"></div>
          </div>
          <div class="skeleton-box add-to-cart-skeleton"></div>
        </div>
      </div>
      }
      }

      <app-product *ngIf="!isLoading()" [productsList]="productsList()"></app-product>
    </div>

  </div>

  <!-- Week Top Sellers Section -->
  <!-- <div class="shop-by-category">
    <div class="header">
      <h3>Week Top Sellers</h3>
    </div>

    <app-product></app-product>

  </div> -->

  <!-- Popular Products Section -->
  <!-- <div class="shop-by-category">
    <div class="header">
      <h3>Popular Products</h3>
    </div>

    <app-product></app-product>

  </div> -->

  <div class="shop-by-category">
    <div class="header">
      <h3>Blogs</h3>
    </div>

    <!-- <div class="products">
      <div *ngFor="let product of popularProducts" class="product-item">
        <img [src]="product.imageUrl" [alt]="product.name" />
        <p class="product-name">{{ product.name }}</p>
        <p class="product-price">{{ product.price | currency: 'INR' }}</p>
        <button (click)="addToCart(product)">Add to Cart</button>
      </div>
    </div> -->

    <!-- <app-product></app-product> -->

  </div>
</section>
